<div class="container" style="margin-top: 5rem;">
  <div class="d-flex justify-content-between align-items-center my-3">
    <h2 class="m-0">Users</h2>
    <a class="btn btn-primary" routerLink="/user/user-create">Create User</a>
  </div>

  <div class="row g-3 mb-3">
    <div class="col-md-3">
      <label for="searchName" class="form-label">Search by name or username or email</label>
      <input
        id="searchName"
        type="text"
        class="form-control"
        placeholder="e.g. John or jdoe or john@example.com"
        [(ngModel)]="searchName"
      />
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="table-light">
        <tr>
          <th scope="col">Username</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Phone</th>
          <th scope="col">Country</th>
          <th scope="col">City</th>
          <th scope="col">Institute</th>
          <th scope="col">Department</th>
          <th scope="col">Qualification</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let u of filteredUsers">
          <td>{{ u.username }}</td>
          <td>{{ u.name }}</td>
          <td>{{ u.email }}</td>
          <td>{{ u.phone }}</td>
          <td>{{ u.country }}</td>
          <td>{{ u.city }}</td>
          <td>{{ u.institute }}</td>
          <td>{{ u.department }}</td>
          <td>{{ u.qualification }}</td>
          <td>
            <a class="btn btn-primary btn-sm me-2" routerLink="/user/user-edit/{{ u.email }}">
              <i class="bi bi-pencil"></i>
            </a>
            <button class="btn btn-danger btn-sm" (click)="onDelete(u.email)">
              <i class="bi bi-trash3"></i>
            </button>
          </td>
        </tr>
        <tr *ngIf="filteredUsers.length === 0">
          <td colspan="9" class="text-center text-muted py-4">No users found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
